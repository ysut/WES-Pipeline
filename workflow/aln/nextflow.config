env {
    PATH = "/usr/local/genome/bcftools-1.8/bin:" +
           "/usr/local/genome/samtools-1.15.1/bin:" +
           "/betelgeuse07/analysis/utsu/bin:" +
           "$PATH"
}

params {
    // General settings
    ASSEMBLY = "GRCh37"
    MAFCUTOFF = 0.01

    spliceai_mask = "0"
    spliceai_distance = "500"

    // Details settings
    threads = 4
    vcfanno_threads = 12
    vep_buffer = 10000
    // fasta = "/betelgeuse07/analysis/utsu/WES/185/Project_33665/annovar/human_g1k_v37_fix.fasta.gz "
    fasta = "/betelgeuse05/system/bio/db/riker/bundle_b37/human_g1k_v37_fix.fasta"
    fasta_index = "/usr/local/bio/db/riker/bundle_b37/human_g1k_v37_fix.fasta.fai"
    vcfanno_resources = "/betelgeuse07/analysis/utsu/resources/vcfanno"
    echtvar_resources = "/betelgeuse04/analysis/utsu/resources/echtvar/echtvar_zip"
    vep_data = "/betelgeuse04/analysis/utsu/resources/vep/vep_data"
    vep_plugin_resources = "/betelgeuse04/analysis/utsu/resources/vep/plugin_resources"
    spliceai_annotation = "/betelgeuse07/analysis/utsu/resources/SAI10kcalc/SAI10kcalc_spliceai_tx.hg19.tsv"
}

executor {
    name = 'sge'
    queueSize = 12
    pollInterval = '10 sec'
}

process {
    withName: 'EXTRACT_CHR' {
        queue = 'deepspace.q'
    }
    withName: 'NORM' {
        queue = 'centauri.q,deepspace.q'
    }
    withName: 'VCFANNO_DBSNP' {
        queue = 'centauri.q'
    }
    withName: 'EXCLUDE_COMMON' {
        queue = 'deepspace.q'
    }
    withName: 'ECHTVAR_ANNO' {
        queue = 'centauri.q'
    }
    withName: 'SPLIT_BY_CHR' {
        queue = 'deepspace.q'
    }
    withName: 'SPLICEAI' {
        queue = 'deepspace.q'
        container = 'betelgeuse:5000/library/utsu/spliceai:1.3.1'
    }
    withName: 'MAF_FILTER' {
        queue = 'centauri.q,deepspace.q'
    }
    withName: 'CONCATENATE_VCFS' {
        queue = 'centauri.q,deepspace.q'
    }
    withName: 'VEP' {
        queue = 'centauri.q'
        container = 'betelgeuse:5000/library/utsu/vep:112.2'
    }
}

docker {
    enabled = true
}